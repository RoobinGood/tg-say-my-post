# Research for Telegram TTS Bot

## Decisions

- Decision: Использовать python-telegram-bot для работы с Telegram.  
  Rationale: Зрелая библиотека с asyncio и удобной обработкой апдейтов; минимум обвязки.  
  Alternatives considered: aiogram (тоже зрелая, но python-telegram-bot проще для быстрого старта), raw Bot API (больше обвязки).

- Decision: Заглушка синтеза возвращает один mp3 (example.mp3) через общий интерфейс + CLI.  
  Rationale: Соответствует требованию «заглушка» и конституции про CLI; упрощает тесты.  
  Alternatives considered: Генерация тона/тишины на лету (сложнее без пользы), внешние TTS API (не нужно в этой итерации).

- Decision: Очередь в памяти per чат/пользователь, обработка последовательно.  
  Rationale: Объём мал, нет постоянного хранения; проще обеспечить порядок.  
  Alternatives considered: Брокер/БД (избыточно для текущего объёма), глобальная очередь (сложнее обеспечить изоляцию чатов).

- Decision: Лимит текста 2000 символов, жёсткая проверка до синтеза.  
  Rationale: Вписывается в требования и тайминг ответа ≤10 секунд.  
  Alternatives considered: 4000 символов (риск замедления), автоматическое разбиение (усложняет первую итерацию).

- Decision: Текстовое логирование с таймстемпами в stdout + компактный контекст (chat_id, user, тип сообщения).  
  Rationale: Соответствует прозрачности логов, достаточно для отладки.  
  Alternatives considered: Структурные логи/JSON (можно позже, пока избыточно).


