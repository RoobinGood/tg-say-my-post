# Research

## Decisions

1) Decision: Интеграция MeloTTS как нового движка через существующий интерфейс синтеза.
   Rationale: сохраняем плагинообразность, минимальные изменения в обработке бота, повторяем подход Silero.
   Alternatives considered: отдельный хардкод в worker (отклонено: дублирование логики); вынос в отдельный сервис (отклонено: лишняя инфраструктура).

2) Decision: Строгая валидация конфига при старте (движок, модель обязательны; лимит текста обязателен).
   Rationale: раннее выявление ошибок конфигурации, предсказуемые фейлы до запуска бота.
   Alternatives considered: подстановка дефолтов (отклонено: скрывает ошибки); мягкие предупреждения (отклонено: может привести к некорректной озвучке).

3) Decision: Лимит длины текста задаётся одним значением в конфиге для всех моделей; при превышении — отказ без вызова TTS.
   Rationale: избегаем тайм-аутов/дорогих запросов, предсказуемое поведение.
   Alternatives considered: отдельные лимиты на модель (отложено как усложнение); автоматический трим текста (отклонено: потеря данных без явного согласия).

4) Decision: При недоступности движка — не переключаться, отдавать пользователю понятное сообщение и логировать ошибку.
   Rationale: соответствует выбранному UX, избегает неожиданных голосов.
   Alternatives considered: авто-фолбэк (отклонено: нарушает явный выбор движка); многоразовые ретраи (отклонено: задержки для пользователя).
